{
	"info": {
		"_postman_id": "c980bd6b-e9e0-43f0-ace3-61c9b48827b6",
		"name": "collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "shaad",
			"description": null,
			"item": [
				{
					"name": "https://admin.aspqa01us.acuitynext.io/api/v1/partners",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7b4f1118-f411-4b45-9a3b-e481febff992",
								"type": "text/javascript",
								"exec": [
									"var partnerCountAll = 9;//data.partnerCountAll;",
									"",
									"var property1 = \"partnerID\";//data.property1;",
									"",
									"var property2 = \"partnerKey\";//data.property1;",
									"",
									"var property3 = \"partnerName\";//data.property1;",
									"",
									"//xhttp = new XMLHttpRequest();",
									"",
									"var rcode=pm.environment.get(\"response_code\");",
									"rcode=parseInt(rcode);",
									"",
									"    pm.test('Atrius.Partner.GetPartnerAll: Status code Expected: 200, Actual: '+ responseCode.code,function () {",
									"  try{",
									"        pm.response.to.have.status(rcode);",
									"        }",
									"        catch(err)",
									"        {",
									"        send(err);",
									"  throw err;",
									"        }",
									"",
									"    });",
									"",
									"",
									"/*",
									"    var jsonData = pm.response.json();",
									"",
									"",
									"",
									"    pm.test('Atrius.Partner.GetPartnerAll: Total count  Expected: '+ partnerCountAll+', Actual: '+jsonData.count, function () {",
									"try{",
									"       pm.expect(partnerCountAll).to.equal(jsonData.count);",
									"       }",
									"       catch(err)",
									"       {",
									"       send(err.message);",
									"     throw err;",
									"       }",
									"",
									"    });",
									"",
									"",
									"",
									"    pm.test('Atrius.Partner.GetPartnerAll: Property  Expected: '+ property1, function () {",
									"      try{",
									"        pm.expect(jsonData.result[0]).to.have.property(property1);",
									"        }",
									"        catch(err)",
									"        {",
									"        send(err.message);",
									"        throw err;",
									"        }",
									"",
									"    });",
									"",
									"",
									"",
									"    pm.test('Atrius.Partner.GetPartnerAll: Property  Expected: '+ property2, function () {",
									"      try{",
									"        pm.expect(jsonData.result[0]).to.have.property(property2);",
									"        }",
									"        catch(err)",
									"        {",
									"        send(err.message);",
									"     throw err;",
									"        }",
									"",
									"    });",
									"",
									"",
									"",
									"    pm.test('Atrius.Partner.GetPartnerAll: Property  Expected: '+ property3, function () {",
									"    try{",
									"        pm.expect(jsonData.result[0]).to.have.property(property3);",
									"        }",
									"        catch(err)",
									"        {",
									"        send(err.message);",
									"  throw err;",
									"        }",
									"    });",
									"",
									"*/",
									"",
									"",
									"",
									"",
									"",
									"function send(e)",
									"{",
									"    console.log(e.message);",
									"var encodedPat = encodePat('72cwherppis2lgz5gjcrahj6bunq5g5fhfdslkawzy6ie2lk24wa');",
									"",
									"function encodePat(pat) {",
									"",
									"  var b = new Buffer(':' + pat);",
									"",
									"   var s = b.toString('base64');",
									"",
									"",
									"",
									"return s;",
									"",
									"",
									"",
									"}",
									"",
									"pm.sendRequest({",
									"",
									"    url: 'https://testshaad.visualstudio.com/defaultcollection/nodetest/_apis/wit/workitems/$Bug?api-version=1.0',",
									"",
									"    method: 'POST',",
									"",
									"    header: {'cache-control': 'no-cache', 'authorization': `Basic ${encodedPat}`,'Content-Type': 'application/json-patch+json'},",
									" body: {",
									"      mode: 'raw',",
									"",
									"        raw: JSON.stringify([{\"op\": \"add\",\"path\": \"/fields/System.Title\",\"value\": e.message}])",
									"",
									"     ",
									" }",
									"}, function (err, res) {",
									"",
									"   console.log(res.code);",
									"",
									"});",
									"",
									"",
									"",
									"",
									"",
									"}",
									"",
									"",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "69fa1c62-399c-47dd-94f4-782e07054aea",
								"type": "text/javascript",
								"exec": [
									"var _ = require('lodash');",
									"var parseString = require('xml2js').parseString;",
									"var encodedPat = encodePat('72cwherppis2lgz5gjcrahj6bunq5g5fhfdslkawzy6ie2lk24wa');",
									"",
									"function encodePat(pat) {",
									"",
									"  var b = new Buffer(':' + pat);",
									"",
									"   var s = b.toString('base64');",
									"",
									"return s;",
									"",
									"}",
									"",
									"pm.sendRequest({",
									"",
									"    url: 'https://testshaad.visualstudio.com/nodetest/_apis/wit/workitems/19?fields=Microsoft.VSTS.TCM.Steps&api-version=4.1-preview',",
									"",
									"    method: 'GET',",
									"",
									"    header: {'cache-control': 'no-cache', 'authorization': `Basic ${encodedPat}`,'Content-Type': 'application/json-patch+json'},",
									"  body: {},",
									"  json:true",
									"",
									"     ",
									" ",
									"}, function (err,res) {",
									"   // var x=_.pick(Body.fields,['Microsoft.VSTS.TCM.Steps']);",
									"    //x=x['Microsoft.VSTS.TCM.Steps'];",
									"    var r=res.json();",
									"    var x=_.pick(r.fields,['Microsoft.VSTS.TCM.Steps']);",
									"  x=x['Microsoft.VSTS.TCM.Steps'];",
									"",
									"  ",
									"parseString(x, function (err, result) {",
									"    ",
									"      var r=result.steps.step[0].parameterizedString[0]._;",
									"     ",
									"      r=r.replace(\"&nbsp;\",'');",
									"      r=r.replace(/<[^>]+>/g, '');",
									"   var y=r.split(\":\");",
									"   //console.log(y[1]);",
									"   pm.environment.set(\"response_code\", y[1]);",
									"",
									"});",
									"",
									"",
									"",
									"",
									"",
									"});",
									"",
									"",
									"",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "atr-subscription-key",
								"value": "fa734f6a8f544f6c99e462de74e689eb"
							},
							{
								"key": "atr-partner-id",
								"value": "F8920659-D3AF-4823-90C0-276C48FA9DFD"
							},
							{
								"key": "atr-request-source",
								"value": "TestWeb"
							}
						],
						"body": {},
						"url": {
							"raw": "https://admin.aspqa01us.acuitynext.io/api/v1/partners",
							"protocol": "https",
							"host": [
								"admin",
								"aspqa01us",
								"acuitynext",
								"io"
							],
							"path": [
								"api",
								"v1",
								"partners"
							]
						},
						"description": "new with pre and post test"
					},
					"response": []
				}
			]
		}
	]
}